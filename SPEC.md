# 🚀 Korea Nomad Life - 단계별 개선 계획

## 📊 전체 로드맵

```
Phase 1: 검색 & 필터 기능 구현
    ↓
Phase 2: 사용자 상호작용 기능 (좋아요, 북마크)
    ↓
Phase 3: 리뷰 시스템 구현
    ↓
Phase 4: 커뮤니티 페이지 & 이벤트 기능
    ↓
Phase 5: 사용자 프로필 및 마이페이지 개선
```

---

## Phase 1: 검색 & 필터 기능 구현

### 🎯 이번 단계에서 개선할 사항 오버뷰

도시 목록 페이지(`/cities`)의 검색 및 필터 기능을 완전히 구현합니다. 현재는 UI만 있고 실제 동작하지 않는 필터(지역, 가격대, 인터넷 속도)를 기능하게 만들고, 검색 창도 추가합니다. Mock 데이터를 기반으로 실시간으로 필터링된 결과를 표시합니다.

**주요 개선 사항:**
- ☑ 도시명 검색 기능
- ☑ 필터링 (지역, 가격대, 인터넷 속도)
- ☑ 정렬 기능 (평점순, 가격순, 인기순)
- ☑ 필터 상태 URL 파라미터로 관리 (공유 가능)
- ☑ 필터 초기화 버튼
- ☑ 검색 결과 카운트 표시

### ✅ 이번 단계에서 수정/개선해야 하는 기능

- ☑ `FilterSidebar.tsx` 컴포넌트 - 실제 필터링 로직 연결
- ☑ `CityGrid.tsx` 컴포넌트 - 필터링된 데이터 표시
- ☑ `/cities/page.tsx` - 상태 관리 및 URL 파라미터 처리
- ☑ 검색 입력창 추가 (UI 구현)
- ☑ 정렬 드롭다운 추가 (UI 구현)
- ☑ Mock 데이터 구조 확인 및 필요시 보강
- ☑ 필터 결과 없음 상태 처리 (Empty State)
- ☑ 로딩 상태 처리 (선택사항) - Simple implementation으로 구현 완료

### 🔍 작업 완료 후 검증/확인해야 하는 기능

- ☑ 도시명 검색이 실시간으로 작동하는가?
- ☑ 지역별 필터가 정상적으로 작동하는가?
- ☑ 가격대 필터 (생활비 기준)가 정상적으로 작동하는가?
- ☑ 인터넷 속도 필터가 정상적으로 작동하는가?
- ☑ 정렬 기능 (평점순, 가격순, 인기순)이 정상 작동하는가?
- ☑ URL 파라미터가 올바르게 업데이트되고 공유 가능한가?
- ☑ 필터 초기화 버튼이 모든 필터를 리셋하는가?
- ☑ 검색 결과 개수가 정확하게 표시되는가?
- ☑ 모바일 환경에서 필터 UI가 올바르게 표시되는가?
- ☑ 필터 결과가 없을 때 적절한 메시지가 표시되는가?
- ☑ 다중 필터 조합이 정상적으로 작동하는가? (예: 강원도 + 저가격)

---

## Phase 2: 사용자 상호작용 기능 (좋아요, 북마크)

### 🎯 이번 단계에서 개선할 사항 오버뷰

사용자가 개별 도시에 대해 좋아요를 남기고 북마크를 할 수 있도록 구현합니다. 이 정보는 로컬 스토리지(localStorage)에 저장되어 새로고침 후에도 유지됩니다. 추후 Supabase 데이터베이스로 마이그레이션할 수 있도록 구조를 만듭니다.

**주요 개선 사항:**
- ☑ 도시 카드에 좋아요 버튼 추가
- ☑ 도시 카드에 북마크 버튼 추가
- ☑ 사용자별 좋아요/북마크 데이터 localStorage 저장
- ☑ 도시 상세 페이지에도 좋아요/북마크 버튼 표시
- ☑ 좋아요/북마크한 도시만 보는 필터 옵션 추가
- ☑ 홈페이지 또는 마이페이지에 "좋아요한 도시" 섹션 추가

### ✅ 이번 단계에서 수정/개선해야 하는 기능

- ☑ `CityCard.tsx` 컴포넌트 - 좋아요/북마크 버튼 UI 추가
- ☑ `cities/[id]/page.tsx` 상세 페이지 - 좋아요/북마크 버튼 추가
- ☑ 사용자 상호작용 상태 관리 (localStorage 활용)
- ☑ Custom Hook 작성: `useFavorite()` - 좋아요 관리
- ☑ Custom Hook 작성: `useBookmark()` - 북마크 관리
- ☑ `FilterSidebar.tsx` - "좋아요한 도시만 보기", "북마크한 도시만 보기" 필터 추가
- ☑ 아이콘 스타일링 (채워진/비어있는 상태)
- ☑ localStorage 데이터 구조 정의
- ☑ 좋아요 카운트 동적 표시

### 🔍 작업 완료 후 검증/확인해야 하는 기능

- ☑ 좋아요 버튼 클릭 시 아이콘이 변경되는가?
- ☑ 북마크 버튼 클릭 시 아이콘이 변경되는가?
- ☑ 좋아요/북마크 상태가 localStorage에 저장되는가?
- ☑ 페이지 새로고침 후에도 좋아요/북마크 상태가 유지되는가?
- ☑ 좋아요/북마크 카운트가 정확하게 업데이트되는가?
- ☑ "좋아요한 도시만 보기" 필터가 정상 작동하는가?
- ☑ "북마크한 도시만 보기" 필터가 정상 작동하는가?
- ☑ 도시 상세 페이지에서도 좋아요/북마크가 정상 작동하는가?
- ☑ 다양한 도시에 좋아요/북마크를 추가할 수 있는가?
- ☑ 좋아요/북마크를 취소할 수 있는가?
- ☑ localStorage 크기 제한 문제는 없는가?
- ☑ 모바일 환경에서 버튼 클릭이 정상적으로 작동하는가?

---

## Phase 3: 리뷰 시스템 구현

### 🎯 이번 단계에서 개선할 사항 오버뷰

각 도시에 대한 리뷰를 작성하고 조회할 수 있도록 구현합니다. 리뷰에는 평점(1-5점), 제목, 내용, 작성자(현재 로그인한 사용자), 작성일시가 포함됩니다. Mock 리뷰 데이터를 초기에 제공하고, 새 리뷰는 localStorage에 저장됩니다.

**주요 개선 사항:**
- ☑ 도시 상세 페이지에 리뷰 섹션 추가
- ☑ 리뷰 작성 폼 추가 (별점, 제목, 내용)
- ☑ 리뷰 목록 표시 (최신순, 평점순 정렬)
- ☑ 리뷰 평점 평균 계산 및 표시
- ☑ 로그인한 사용자만 리뷰 작성 가능
- ☑ 본인 리뷰 수정/삭제 기능
- ☑ 리뷰 페이지네이션 (첫 5개만 표시, "더보기" 버튼)

### ✅ 이번 단계에서 수정/개선해야 하는 기능

- ☑ `cities/[id]/page.tsx` - 리뷰 섹션 추가
- ☑ `ReviewForm.tsx` 컴포넌트 - 리뷰 작성 폼
- ☑ `ReviewList.tsx` 컴포넌트 - 리뷰 목록 표시
- ☑ `ReviewCard.tsx` 컴포넌트 - 개별 리뷰 카드
- ☑ 별점 UI 컴포넌트 추가
- ☑ Mock 데이터에 리뷰 데이터 추가
- ☑ localStorage에 새 리뷰 저장
- ☑ 리뷰 평점 평균 계산 로직
- ☑ 인증 상태 확인 (로그인 여부)
- ☑ 리뷰 수정/삭제 모달 또는 드롭다운
- ☑ 본인 작성 리뷰 표시 (뱃지 또는 아이콘)

### 🔍 작업 완료 후 검증/확인해야 하는 기능

- ☑ 도시 상세 페이지에 리뷰 섹션이 표시되는가?
- ☑ Mock 리뷰 데이터가 올바르게 표시되는가?
- ☑ 로그인한 사용자가 리뷰 작성 폼을 볼 수 있는가?
- ☑ 미로그인 사용자는 리뷰 작성 폼이 보이지 않거나 로그인 유도 메시지가 표시되는가?
- ☑ 별점을 선택할 수 있는가? (1-5점)
- ☑ 리뷰 제목과 내용을 입력할 수 있는가?
- ☑ 새 리뷰가 localStorage에 저장되는가?
- ☑ 작성한 리뷰가 리뷰 목록에 추가되는가?
- ☑ 리뷰 목록이 최신순으로 정렬되는가?
- ☑ 리뷰 평점 평균이 정확하게 계산되는가?
- ☑ 본인이 작성한 리뷰를 수정할 수 있는가?
- ☑ 본인이 작성한 리뷰를 삭제할 수 있는가?
- ☑ 다른 사용자의 리뷰는 수정/삭제할 수 없는가? (버튼 미표시)
- ☑ 리뷰 페이지네이션이 정상 작동하는가?
- ☑ 페이지 새로고침 후에도 작성한 리뷰가 유지되는가?
- ☑ 모바일 환경에서 리뷰 작성 폼이 올바르게 표시되는가?

---

## Phase 4: 커뮤니티 페이지 & 이벤트 기능

### 🎯 이번 단계에서 개선할 사항 오버뷰

커뮤니티 페이지를 추가하여 노마드들이 만나고 정보를 공유할 수 있는 공간을 제공합니다. 이벤트 목록, 멤버 목록, 커뮤니티 뉴스피드 등을 구현합니다. Mock 데이터로 초기 데이터를 제공하고 새로운 이벤트 등록 기능은 localStorage에 저장됩니다.

**주요 개선 사항:**
- ☑ `/community` 페이지 추가
- ☑ 이벤트 목록 섹션 (도시별, 카테고리별 필터)
- ☑ 이벤트 상세 페이지 (`/community/events/[id]`)
- ☑ 이벤트 참가 신청 기능 (하트 또는 "참가" 버튼)
- ☑ 커뮤니티 멤버 목록 섹션
- ☑ 커뮤니티 공지사항 또는 뉴스피드
- ☑ 이벤트 만들기 폼 (로그인 필요)

### ✅ 이번 단계에서 수정/개선해야 하는 기능

- ☑ `/community/page.tsx` - 커뮤니티 메인 페이지 생성
- ☑ `EventList.tsx` 컴포넌트 - 이벤트 목록
- ☑ `EventCard.tsx` 컴포넌트 - 이벤트 카드
- ☑ `/community/events/[id]/page.tsx` - 이벤트 상세 페이지
- ☑ `EventFilter.tsx` - 도시별, 카테고리별 필터
- ☑ `MemberList.tsx` 컴포넌트 - 커뮤니티 멤버 표시
- ☑ `CommunityNewsFeed.tsx` - 커뮤니티 활동 피드
- ☑ `CreateEventForm.tsx` - 이벤트 생성 폼
- ☑ Mock 이벤트 데이터 추가
- ☑ Mock 멤버 데이터 추가
- ☑ 네비게이션에 커뮤니티 링크 추가
- ☑ 이벤트 참가 상태 localStorage 저장

### 🔍 작업 완료 후 검증/확인해야 하는 기능

- ☑ `/community` 페이지가 올바르게 접근 가능한가?
- ☑ Mock 이벤트 데이터가 목록에 표시되는가?
- ☑ Mock 멤버 데이터가 표시되는가?
- ☑ 도시별 이벤트 필터가 정상 작동하는가?
- ☑ 카테고리별 이벤트 필터가 정상 작동하는가?
- ☑ 개별 이벤트 상세 페이지가 정상적으로 로드되는가?
- ☑ 이벤트에 참가 신청할 수 있는가?
- ☑ 참가 신청 상태가 localStorage에 저장되는가?
- ☑ 이벤트 상세 페이지에 참가 인원이 표시되는가?
- ☑ 로그인한 사용자가 이벤트를 생성할 수 있는가?
- ☑ 미로그인 사용자는 이벤트 생성 폼에 접근할 수 없는가?
- ☑ 새로 생성한 이벤트가 목록에 추가되는가?
- ☑ 커뮤니티 뉴스피드가 표시되는가?
- ☑ 네비게이션에서 커뮤니티 링크로 이동할 수 있는가?
- ☑ 모바일 환경에서 이벤트 목록이 올바르게 표시되는가?
- ☑ 페이지 새로고침 후에도 참가 상태가 유지되는가?

---

## Phase 5: 사용자 프로필 및 마이페이지 개선

### 🎯 이번 단계에서 개선할 사항 오버뷰

기존 대시보드 페이지를 개선하여 사용자 프로필 관리 기능을 추가합니다. 사용자가 프로필 정보를 수정하고, 활동 이력을 볼 수 있도록 구현합니다. 또한 사용자의 관심 도시, 작성한 리뷰, 참가한 이벤트 등을 한 곳에서 관리할 수 있도록 합니다.

**주요 개선 사항:**
- ☑ 프로필 정보 수정 (이름, 바이오, 프로필 사진 업로드 UI)
- ☑ "내가 좋아요한 도시" 섹션
- ☑ "내가 북마크한 도시" 섹션
- ☑ "내가 작성한 리뷰" 섹션 (수정/삭제 가능)
- ☑ "내가 참가한 이벤트" 섹션
- ☑ "내가 만든 이벤트" 섹션
- ☑ 활동 통계 (총 리뷰 수, 총 이벤트 참가, 등)
- ☑ 설정 탭 (알림 설정, 프라이버시 설정)

### ✅ 이번 단계에서 수정/개선해야 하는 기능

- ☑ `/dashboard/page.tsx` - 마이페이지 개선
- ☑ `ProfileCard.tsx` 컴포넌트 - 프로필 정보 표시
- ☑ `EditProfileForm.tsx` - 프로필 수정 폼
- ☑ `MyFavoriteCities.tsx` - 좋아요한 도시 목록
- ☑ `MyBookmarks.tsx` - 북마크한 도시 목록
- ☑ `MyReviews.tsx` - 작성한 리뷰 목록
- ☑ `MyEvents.tsx` - 참가한 이벤트 목록
- ☑ `MyCreatedEvents.tsx` - 생성한 이벤트 목록
- ☑ `ActivityStats.tsx` - 활동 통계
- ☑ `SettingsTab.tsx` - 설정 탭
- ☑ 탭 네비게이션 추가 (프로필, 활동, 설정)
- ☑ 사용자 정보 localStorage 저장 (프로필 사진 데이터는 Base64)

### 🔍 작업 완료 후 검증/확인해야 하는 기능

- ☑ 마이페이지가 로그인한 사용자만 접근 가능한가?
- ☑ 미로그인 사용자는 로그인 페이지로 리다이렉트되는가?
- ☑ 프로필 정보가 올바르게 표시되는가?
- ☑ 프로필 정보를 수정할 수 있는가?
- ☑ 수정한 프로필 정보가 localStorage에 저장되는가?
- ☑ 페이지 새로고침 후에도 수정된 정보가 유지되는가?
- ☑ "좋아요한 도시" 섹션에 올바른 도시들이 표시되는가?
- ☑ "북마크한 도시" 섹션에 올바른 도시들이 표시되는가?
- ☑ "작성한 리뷰" 섹션에 사용자가 작성한 리뷰만 표시되는가?
- ☑ "작성한 리뷰"에서 리뷰를 수정/삭제할 수 있는가?
- ☑ "참가한 이벤트" 섹션에 올바른 이벤트들이 표시되는가?
- ☑ "생성한 이벤트" 섹션에 사용자가 생성한 이벤트만 표시되는가?
- ☑ 활동 통계가 정확하게 계산되는가?
- ☑ 탭 네비게이션이 정상 작동하는가?
- ☑ 설정 탭의 옵션들이 표시되는가?
- ☑ 모바일 환경에서 마이페이지가 올바르게 표시되는가?
- ☑ 각 섹션에서 도시/리뷰/이벤트로 이동할 수 있는가?

---

## 📝 추가 요구사항 및 고려사항

### 모든 Phase에서 공통으로 확인해야 할 사항

- ☐ 반응형 디자인이 유지되는가? (모바일, 태블릿, 데스크톱)
- ☐ 접근성(Accessibility) 기준이 충족되는가? (alt text, ARIA labels 등)
- ☐ TypeScript 타입이 정확하게 정의되어 있는가?
- ☐ 컴포넌트가 재사용 가능한 형태로 작성되었는가?
- ☐ 에러 처리가 적절하게 구현되었는가?
- ☐ 로딩 상태가 처리되었는가? (필요시)
- ☐ UI/UX가 일관성 있게 유지되는가?
- ☐ Tailwind CSS 스타일링이 일관되는가?

### Mock 데이터 저장소

- ☐ `lib/data.ts` - 기존 Mock 데이터 (도시, 통계)
- ☐ localStorage - 사용자별 상호작용 데이터 (좋아요, 북마크, 리뷰, 이벤트 참가 등)
- ☐ localStorage key 네이밍: `nomad_<data_type>_<user_id>` (예: `nomad_favorites_user_123`)

### 향후 마이그레이션을 고려한 구조

- ☐ 모든 데이터 조회/저장 로직을 Custom Hook으로 추상화
- ☐ localStorage 사용 부분을 명확히 분리 (추후 Supabase로 대체 가능)
- ☐ API 호출 형식으로 작성 (실제 API 연동 시 용이)

---

## 📌 프로젝트 정보

### 프로젝트 기본 정보

- **프로젝트명**: Korea Nomad Life (한국 노마드 라이프)
- **목적**: 한국에서 디지털 노마드로 생활하고 싶은 사람들을 위한 도시 정보 비교 플랫폼
- **현재 상태**: 기본 구조 완성, 기능 구현 단계

### 기술 스택

- **프레임워크**: Next.js 15 (App Router)
- **언어**: TypeScript 5.9.3
- **스타일링**: Tailwind CSS 4.1.15
- **인증**: Supabase Auth
- **아이콘**: Lucide React 0.546.0
- **상태 관리**: localStorage (향후 Supabase로 마이그레이션)

### 기본 개발 규칙

- **데이터 저장소**: Mock 데이터 기반 (lib/data.ts), localStorage 활용
- **상태 관리**: Custom Hooks 사용
- **컴포넌트 구조**: Server Components 우선, 필요시 Client Components 사용
- **스타일링**: Tailwind CSS 일관성 유지
- **타입 안정성**: TypeScript 완전 활용

### 디렉토리 구조 (참고)

```
korea-nomad/
├── app/                   # Next.js 앱 라우터
│   ├── auth/             # 인증 관련 페이지
│   ├── cities/           # 도시 목록 및 상세
│   ├── community/        # 커뮤니티 (Phase 4에서 추가)
│   ├── dashboard/        # 마이페이지 (Phase 5에서 개선)
│   └── layout.tsx
├── components/           # React 컴포넌트
│   ├── layout/
│   ├── home/
│   └── cities/
├── lib/
│   ├── data.ts          # Mock 데이터
│   ├── types.ts         # TypeScript 인터페이스
│   └── utils.ts         # 유틸리티
└── utils/supabase/      # Supabase 설정
```

---

## 🔄 단계 간 의존성

- **Phase 1**: 독립적 (기본 필터 기능만 구현)
- **Phase 2**: Phase 1 의존 (필터 옵션 추가)
- **Phase 3**: Phase 2 의존 (리뷰 작성자 정보 필요)
- **Phase 4**: Phase 3 의존 (커뮤니티와 이벤트는 독립적이지만 데이터 일관성을 위해)
- **Phase 5**: Phase 2, 3, 4 의존 (모든 사용자 활동을 표시)

---

**마지막 업데이트**: 2025-10-27
**상태**: 기획 완료, 구현 대기
